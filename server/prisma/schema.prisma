generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  name     String     @db.VarChar(30)
  email    String     @id @db.VarChar(50)
  password String     @db.VarChar(30)
  money    Float      @default(100.0)
  purchase Purchase[]
  product  Product[]
}

model Product {
  id               Int                @id @default(autoincrement())
  name             String             @db.VarChar(20)
  price            Float
  description      String             @db.VarChar(75)
  quantity         Int
  fk_user_email    String             @db.VarChar(50)
  User             User?              @relation(fields: [fk_user_email], references: [email])
  Purchase_product Purchase_product[]
}

model Purchase {
  id               Int                @id @default(autoincrement())
  value            Float
  adress            String            @db.VarChar(100)
  fk_user_email    String             @db.VarChar(50)
  User             User?              @relation(fields: [fk_user_email], references: [email])
  Purchase_product Purchase_product[]
}

model Purchase_product {
  id             Int       @id @default(autoincrement())
  fk_product_id  Int
  fk_purchase_id Int
  Product        Product?  @relation(fields: [fk_product_id], references: [id])
  Purchase       Purchase? @relation(fields: [fk_purchase_id], references: [id])
}